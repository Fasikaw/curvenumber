{"name":"Curve Number","tagline":"SCS Curve Number method (R package) ","body":"SCS Curve Number method (R-package)\r\n===================================\r\n\r\n[![DOI](https://zenodo.org/badge/doi/10.5281/zenodo.14280.svg)](http://dx.doi.org/10.5281/zenodo.14280)\r\n\r\nThe SCS Curve Number (CN) is a well established method for the estimation of direct runoff from storm rainfall, developed by the USDA Soil Conservation Service (Rallison, 1980) and used in hydrologic engineering and environmental impact analyses. \r\n\r\nThis package allows to calculate:  \r\n\r\n* the direct storm runoff (Q), given rainfall (R) and CN number  \r\n* the CN number, given rainfall (R) and runoff (Q) data\r\n\r\n**To cite this software:**  \r\nC. Vitolo, N. Le Vine, CurveNumber (R package), (2015), GitHub repository, https://github.com/cvitolo/r_CurveNumber, doi: http://dx.doi.org/10.5281/zenodo.14280\r\n\r\n### Background: the CN method in a nutshell\r\nThe CN number is a dimensionless parameter varying in the range [0,100]. This is tabulated based on land use type and hydrologic soil group. When the CN is known, the potential maximum retention (S) can be calculated using the following formula:\r\n\r\n_S = 1000/CN - 10_\r\n\r\nThe storm runoff is then calculated as follows:\r\n\r\n_Q = ((P-0.2S)^2)/(P+0.8S)_\r\n\r\nwith _P>0.2S_, where P is the rainfall depth (in inches).\r\n\r\nWhen both P and Q are known, the CN can be calculated from data as suggested by Hawkins (1993). \r\n\r\n**References:**  \r\nRichard H. Hawkins. Asymptotic Determination of Runoff Curve Numbers\r\nfrom Data. Journal of Irrigation and Drainage Engineering, 119(2):334–345,\r\nMarch 1993. ISSN 0733-9437. doi: 10.1061/(ASCE)0733-9437(1993)119:\r\n2(334). [URL](http://ascelibrary.org/doi/abs/10.1061/%28ASCE%290733-9437%281993%29119%3A2%28334%29)\r\n\r\nAllen T. Hjelmfelt. Empirical Investigation of Curve Number Technique. Journal of the Hydraulics Division, Vol. 106, No. 9, September 1980, pp. 1471-1476. [URL](http://cedb.asce.org/cgi/WWWdisplay.cgi?9734)\r\n\r\nR. E. Rallison. Origin and evolution of the SCS runoff equation. In ASCE\r\nlrrig. and Drain. Div. Symp. on Watershed Mgmt., Vol. 11, pages 912–\r\n924, New York, New York, USA, 1980. [URL](http://cedb.asce.org/cgi/WWWdisplay.cgi?31601)\r\n\r\n### Basics\r\nInstall and load packages\r\n```R\r\n# Install dependent packages from CRAN:\r\nx <- c(\"zoo\", \"EcoHydRology\", \"udunits2\",\"devtools\")\r\ninstall.packages(x)\r\nlapply(x, require, character.only=T); rm(x)\r\n\r\n# Install dependent packages from github:\r\ninstall_github(\"josephguillaume/hydromad\")\r\ninstall_github(\"cvitolo/r_CurveNumber\", subdir = \"curvenumber\")\r\n```\r\n\r\n### Load the library and some test data\r\nLibrary and test dataset can be loaded as follows:\r\n```R\r\nlibrary(curvenumber)\r\ndata(DATA) \r\n```\r\n\r\nDATA is in mm/d but the time step is 1 hour, below is an adjustment:\r\n```R\r\nInputTS <- DATA/24; rm(DATA)\r\n```\r\n\r\nIf the adjustment is not made, volumes should be re-calculated as the sum of the streamflow values multiplied by [the time interval length / your main time units]. E.g. if you use mm/day for hourly observations, the multiplier is [hour/day] = 1/24. If your main time units are the same as the time interval (mm/hr for hourly data), the multiplier is 1.\r\n\r\n### Identify Rainfall-Runoff events\r\nAccording to (Hawkins, 1993), in order to calculate the curve Number, the rainfall and runoff events can be identified separately. Return periods are then matched using the Frequency Matching approach (Hjelmfelt, 1980). \r\n\r\n```R\r\ndf  <- EventIdentification(dataX = InputTS,\r\n                           hours2extend = 6, plotOption = FALSE,\r\n                           stepsBack = 5, timeUnits = \"hours\")\r\n```\r\n\r\n### Calculate the Curve Number\r\nDetermine the Curve Number and k coefficient and also plot CN-P behaviour to \r\ndefine the type of asymptote\r\n```R\r\ncoef <- CalculateCN(dfTPQ = df, PQunits = \"mm\", plotOption = TRUE)\r\n```\r\n\r\nPlease note that there are three types of behaviour: \r\n* \"standard\" (increasing asymptotically), \r\n* \"complacent\" (decreasing indefinitely) and \r\n* \"violent\" (increasing asymptotically).\r\n\r\nHere, only the standard behaviour is implemented. In this case, CN (infinity) is\r\nthe value of CN that corresponds to the largest rainfall events and can be \r\ncalculated by a nonlinear least squares curve fitting (red line).\r\n\r\n### Calculate the direct storm runoff\r\nGiven the maximum rainfall and the CN number, the potential maximum reterntion (S) and the direct storm runoff (Q) are calculated as follows:\r\n```R\r\nCalculateQ(P=30, CN=82, PQunits = \"mm\")\r\n\r\n$S\r\n[1] 55.756\r\n\r\n$Q\r\n[1] 4.762\r\n```\r\n\r\n### Warnings\r\nThis package and functions herein are provided as is, without any guarantee.\r\n\r\n### Please leave your feedback\r\nThis package was developed by [Claudia Vitolo](http://www.imperial.ac.uk/people/c.vitolo) and [Nataliya Le Vine](http://www.imperial.ac.uk/people/n.le-vine). We would greatly appreciate if you could leave your feedbacks via email (cvitolodev@gmail.com).\r\n","google":"UA-44379190-6","note":"Don't delete this file! It's used internally to help with page regeneration."}